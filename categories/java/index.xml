<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Java - 分类 - Blog</title><link>https://GGhua.github.io/categories/java/</link><description>Blog</description><generator>Hugo 0.153.2 &amp; FixIt v0.4.0-alpha.3-20251225101113-8ffb9a95</generator><language>zh-CN</language><managingEditor>2895789672@qq.com (GGhua)</managingEditor><webMaster>2895789672@qq.com (GGhua)</webMaster><lastBuildDate>Thu, 21 Oct 2021 09:10:31 +0800</lastBuildDate><atom:link href="https://GGhua.github.io/categories/java/index.xml" rel="self" type="application/rss+xml"/><item><title>Java修改数组时报错UnsupportedOperationException</title><link>https://GGhua.github.io/posts/%E6%95%B0%E7%BB%84%E4%BF%AE%E6%94%B9%E6%8A%A5%E9%94%99/</link><pubDate>Thu, 21 Oct 2021 09:10:31 +0800</pubDate><author>2895789672@qq.com (GGhua)</author><guid>https://GGhua.github.io/posts/%E6%95%B0%E7%BB%84%E4%BF%AE%E6%94%B9%E6%8A%A5%E9%94%99/</guid><category domain="https://GGhua.github.io/categories/%E5%AD%A6%E4%B9%A0/">学习</category><category domain="https://GGhua.github.io/categories/java/">Java</category><description>&lt;p&gt;样例代码：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@Test
void t1(){
 String str = &amp;#34;1,2,3&amp;#34;;
 List&amp;lt;String&amp;gt; userIds = Arrays.asList(str.split(&amp;#34;,&amp;#34;));
 // List&amp;lt;String&amp;gt; userIds = List.of(str.split(&amp;#34;,&amp;#34;));
 userIds.add(&amp;#34;4&amp;#34;);
 userIds.remove(&amp;#34;1&amp;#34;);
 System.out.println(&amp;#34;String.join(\&amp;#34;,\&amp;#34;, userIds) = &amp;#34; &amp;#43; String.join(&amp;#34;,&amp;#34;, userIds));
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这个错误是因为java.util.Arrays.asList()方法返回的List对象实际上是AbstractList的一个实现，并且它背后关联的是一个数组。这种类型的List是不可变的，因此当你尝试添加或删除元素时，会抛出UnsupportedOperationException异常。
解决这个问题的方法是在创建List时确保它是可变的。你已经在代码中尝试通过Lists.newArrayList(Arrays.asList(str.split(&amp;quot;,&amp;quot;)));来转换成一个新的ArrayList实例，但是这里使用了Guava库中的Lists工具类。如果你的项目中已经引入了Guava库，那么这段代码是正确的；如果没有引入Guava库，则可以使用标准Java库中的方法来创建一个可变的List。&lt;/p&gt;</description></item></channel></rss>